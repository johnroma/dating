# 'sqlite' (default) or 'postgres'
DB_DRIVER=sqlite

# SQLite path
DATABASE_FILE=.data/db/dev.db

# Postgres / Supabase (used when DB_DRIVER=postgres)
DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DB?sslmode=require

# Auth driver hint (optional). Defaults: 'dev' locally, 'supabase' on Vercel.
AUTH_DRIVER=hybrid
# Supabase (ES256 / JWKS) â€“ used when AUTH_DRIVER=supabase
SUPABASE_PROJECT_REF=your-project-ref
SUPABASE_JWKS_URL=https://your-project-ref.supabase.co/auth/v1/keys
# Optional: comma-separated emails that become admin in our app
SUPABASE_ADMIN_EMAILS=

# Supabase JS helpers (only if you later add the Supabase SDK)
SUPABASE_URL=<project URL>
SUPABASE_ANON_KEY=<anon key>
# Auth (dev)
# DEV ONLY: mock session cookie encoder lives in ports/auth.ts
# No secrets required for dev mode

# Upload limits and CDN base
UPLOAD_MAX_BYTES=10485760
NEXT_PUBLIC_CDN_BASE_URL=/mock-cdn

# Storage driver
STORAGE_DRIVER=local            # 'local' | 'r2'

# R2 / S3 (used when STORAGE_DRIVER=r2)
S3_ENDPOINT=https://<accountid>.r2.cloudflarestorage.com
S3_REGION=auto
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_BUCKET_ORIG=photos-orig
S3_BUCKET_CDN=photos-cdn
CDN_BASE_URL=https://cdn.example.com
PRESIGN_TTL_SECONDS=300

# Safety
UPLOAD_MAX_PIXELS=40000000
UPLOAD_MAX_WIDTH=12000
UPLOAD_MAX_HEIGHT=12000

# Rate limiting
RATE_UPLOADS_PER_MINUTE=20
RATE_INGESTS_PER_MINUTE=60

# Quotas
QUOTA_CREATOR_MAX_PHOTOS=200
QUOTA_CREATOR_MAX_BYTES=1073741824
